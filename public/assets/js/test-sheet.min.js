"use strict";function countdown(){var timer,s=$("#timer").text().split(":"),sec=60*+s[0]*60+60*+s[1]+ +s[2]+1,a=new Date;a.addSecs(sec);var countDownDate=new Date(a).getTime(),x=setInterval((function(){var now=(new Date).getTime(),distance=countDownDate-now,hours=Math.floor(distance%864e5/36e5),minutes=Math.floor(distance%36e5/6e4),seconds=Math.floor(distance%6e4/1e3);hours=digit(hours),minutes=digit(minutes),seconds=digit(seconds),$("#timer").html(hours+":"+minutes+":"+seconds),distance<0&&(clearInterval(x),$("#timer").html("00:00:00"),alert("Waktu mengerjakan habis!"))}),1e3)}function digit(d){return d<10?"0"+d:d}function decreaseFontSize(){var q=$("#main-sheet").css("font-size"),qSize=parseFloat(q),o=$("#main-sheet label").css("font-size"),oSize=parseFloat(o);qSize>=12&&($("#main-sheet").css("font-size",qSize-1+"px"),$("#main-sheet label").css("font-size",oSize-1+"px"))}function normalFontSize(){$("#main-sheet").css("font-size","14px"),$("#main-sheet label").css("font-size","14px")}function increaseFontSize(){var q=$("#main-sheet").css("font-size"),qSize=parseFloat(q),o=$("#main-sheet label").css("font-size"),oSize=parseFloat(o);qSize<=24&&($("#main-sheet").css("font-size",qSize+1+"px"),$("#main-sheet label").css("font-size",oSize+1+"px"))}function getQ(id){$.ajax({type:"GET",url:BASE_URL+"/test/getQuestion",data:{t:$('[name="test"]').val(),n:$("#questions-list").find("[data-nya='"+id+"']").text(),q:id},dataType:"JSON",beforeSend:function(){loader()},success:function(response){response.status&&($("#main-sheet").html(response.data),navControl(id),listControl(id))},complete:function(){loader()}})}function loader(){$(".overlay").toggleClass("overlay-block"),$(".overlay-layer").toggleClass("d-none")}function listControl(id){var active=$("#questions-list").find(".btn-dark"),selected=$("#questions-list").find("[data-nya='"+id+"']");active.hasClass("btn-info")||active.toggleClass("btn-outline-dark"),active.toggleClass("btn-dark"),selected.hasClass("btn-outline-dark")&&selected.toggleClass("btn-outline-dark"),selected.toggleClass("btn-dark")}function navControl(id){var first=$("#questions-list button:first").attr("data-nya"),last=$("#questions-list button:last").attr("data-nya");id==first?$("#prev-button").attr("disabled",!0):$("#prev-button").attr("disabled",!1),id==last?($("#next-button").attr("disabled",!0).addClass("d-none"),$("#finish-button").removeClass("d-none")):($("#next-button").attr("disabled",!1).removeClass("d-none"),$("#finish-button").addClass("d-none"))}function postAnswer(id){var active=$("#questions-list").find(".btn-dark"),data={t:$('[name="test"]').val(),n:active.text(),q:active.attr("data-nya"),a:id};$.ajax({type:"POST",url:BASE_URL+"/api/v1/test/answer",data:data,dataType:"JSON",success:function(response){console.log(response),response.status?(active.removeClass("btn-outline-dark"),active.addClass("btn-info")):notifyMessage(response.message,"danger")}})}function disableSelection(e){void 0!==e.onselectstart?e.onselectstart=function(){return!1}:void 0!==e.style.MozUserSelect?e.style.MozUserSelect="none":e.onmousedown=function(){return!1},e.style.cursor="default"}function mousedwn(e){try{if(2==event.button||3==event.button)return!1}catch(e){if(3==e.which)return!1}}jQuery(document).ready((function(){disableSelection(document.body),getQ($("#questions-list").find(".btn-dark").attr("data-nya")),$("#decrease-font").click((function(){decreaseFontSize()})),$("#normal-font").click((function(){normalFontSize()})),$("#increase-font").click((function(){increaseFontSize()})),$(".question-num").click((function(){var id;getQ($(this).attr("data-nya"))})),$("#prev-button").click((function(){var prev;getQ($("#questions-list").find(".btn-dark").prev().attr("data-nya"))})),$("#next-button").click((function(){var next;getQ($("#questions-list").find(".btn-dark").next().attr("data-nya"))})),$("#main-sheet").on("click",'[name="answer"]',(function(){setTimeout(postAnswer($(this).val()),3e3)})),$("#finish-button").click((function(){$.ajax({type:"GET",url:BASE_URL+"/test/confirmfinish",dataType:"JSON",success:function(response){$("#general-modal .modal-body").html(response.data),$("#modal-ok-button").attr("data-action","finish-test"),$("#general-modal").modal("show")}})})),$(".modal-footer").on("click",'[data-action="finish-test"]',(function(){$("[name=confirm-finish]").is(":checked")&&(window.location.href=BASE_URL+"/test/finish/"+$('[name="test"]').val())}))})),jQuery(window).bind("load",(function(){countdown()})),Date.prototype.addSecs=function(s){return this.setTime(this.getTime()+1e3*s),this},document.oncontextmenu=function(){return!1},document.ondragstart=function(){return!1},document.onmousedown=mousedwn,window.addEventListener("keydown",(function(e){!e.ctrlKey||65!=e.which&&66!=e.which&&67!=e.which&&73!=e.which&&80!=e.which&&83!=e.which&&85!=e.which&&86!=e.which||e.preventDefault()})),document.keypress=function(e){return e.ctrlKey&&(65==e.which||66==e.which||67==e.which||73==e.which||80==e.which||83==e.which||85==e.which||e.which),!1},document.onkeydown=function(e){if(123==(e=e||window.event).keyCode||18==e.keyCode)return!1};