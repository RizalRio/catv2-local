var KTFormControls=function(){var _initValidation=function(){FormValidation.formValidation(document.getElementById("kt_form"),{fields:{method:{validators:{notEmpty:{message:"Method harus dipilih"}}},question:{validators:{notEmpty:{message:"Pertanyaan harus diisi"}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap:new FormValidation.plugins.Bootstrap,submitButton:new FormValidation.plugins.SubmitButton,defaultSubmit:new FormValidation.plugins.DefaultSubmit}})};return{init:function(){_initValidation()}}}(),KTFormRepeater=function(){var formRepeater=function(){$("#kt_repeater").repeater({initEmpty:!1,defaultValues:{"text-input":"foo"},show:function(){$(this).slideDown(),getOptions($("#method").val())},hide:function(deleteElement){var id=$(this).find("input[type=hidden]").val();""!=id?Swal.fire({title:"Are you sure you want to delete this element? ",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then((function(result){result.value&&$.ajax({type:"DELETE",url:BASE_URL+"/support/answers/delete/"+id,dataType:"JSON",success:function(response){response.status?$(this).slideUp(deleteElement):Swal.fire("Error!",response.message,"error")}})})):$(this).slideUp(deleteElement)}})};return{init:function(){formRepeater()}}}();function getOptions(method){$(".dimension").length&&(""!=method?$.ajax({type:"POST",url:BASE_URL+"/support/dimensions/options",data:{method:method},dataType:"JSON",success:function(response){response.status&&$(".dimension").each((function(index){""==$(this).val()&&$(this).html(response.data)}))}}):$(".dimension").html("<option value=''>Select Method First</option>"))}jQuery(document).ready((function(){KTFormControls.init(),KTFormRepeater.init(),autosize($("textarea")),$("#method").change((function(e){getOptions($(this).val())}))}));